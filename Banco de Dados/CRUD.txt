CREATE TABLE Cozinha (
    id serial NOT NULL,
    codPedido integer ,
    observacao varchar(30),
    statusPedido varchar(20),
    PRIMARY KEY (id)
);

CREATE TABLE PedidoCliente (
    id serial NOT NULL,
    codPedido integer NOT NULL,
    codProduto integer,
    produto varchar(20) NOT NULL,
    observacao varchar(30),
    statusPedido varchar(15),
    statusPagto varchar(10),
    PRIMARY KEY (codPedido)
);

CREATE TABLE Caixa (
    id serial NOT NULL,
    codPedido integer,
    formPagmento varchar(10) NOT NULL,
    preco numeric(4,2) NOT NULL,
    statusPagto varchar(10),
    PRIMARY KEY (id)
);

CREATE TABLE Cardapio (
    id serial NOT NULL,
    codProduto integer, 
    produto varchar(30) NOT NULL,
    preco numeric(4,2) NOT NULL,
    idEstoque integer,
    PRIMARY KEY (id)
);

CREATE TABLE Administrador (
    id serial NOT NULL,
    usuario varchar(20) NOT NULL,
    senha varchar(20) NOT NULL,
    codProduto integer, 
    idEstoque integer,
    PRIMARY KEY (id)
);

CREATE TABLE Estoque (
    id serial NOT NULL,
    codProduto integer NOT NULL,
    produto varchar(20) NOT NULL,
    tipoProduto varchar(20) NOT NULL,
    valorProduto numeric(4,2) NOT NULL,
    quantidade integer NOT NULL,
    PRIMARY KEY (id)
);

CREATE TABLE Fornecedor (
    id serial NOT NULL,
    nome varchar(20) NOT NULL,
    telefone varchar(20) NOT NULL,
    email varchar(20) NOT NULL,
    codProduto integer,
    PRIMARY KEY (id)
);

CREATE TABLE PedidoFornecedor (
    id serial NOT NULL,
    produto varchar(20) NOT NULL,
    quantidade integer NOT NULL,
    idFornecedor integer,
    PRIMARY KEY(id)
);

CREATE TABLE Usuario (
    id serial NOT NULL,
    login varchar(20) NOT NULL,
    senha varchar(20) NOT NULL,
    PRIMARY KEY (id)
);

ALTER TABLE Cozinha ADD FOREIGN KEY (codPedido) REFERENCES PedidoCliente(codPedido);
ALTER TABLE Caixa ADD FOREIGN KEY (codPedido) REFERENCES PedidoCliente(codPedido);
ALTER TABLE Cardapio ADD FOREIGN KEY (idEstoque) REFERENCES Estoque(id);
ALTER TABLE Administrador ADD FOREIGN KEY (codProduto) REFERENCES Cardapio(id);
ALTER TABLE Administrador ADD FOREIGN KEY (idEstoque) REFERENCES Estoque(id);
ALTER TABLE Fornecedor ADD FOREIGN KEY (codProduto) REFERENCES Estoque(id);
ALTER TABLE PedidoFornecedor ADD FOREIGN KEY (idFornecedor) REFERENCES Fornecedor(id);
ALTER TABLE Estoque ADD FOREIGN KEY (codProduto) REFERENCES PedidoCliente(codProduto);
